## **텍스트 분석**

- 비정형 데이터인 텍스트를 분석하는 것
- 머신러닝 알고리즘은 숫자현 피터 기반 데이터만 입력받을 수 있음
- 텍스트를 머신러닝에 적용하기 위해서는?
- 어떻게 추출하고 추출된 피처에 의미 있는 값을 부여하는가 하는 것이 매우 중요

- 텍스트를 다수의 피처로 추출하고 단어 빈도수와 같은 숫자 값을 부여함
- 이를 통해 벡터값으로 표현 가능 (피처 벡터화 / 피처 추출)
- 텍스트를 피처 벡터화해서 변환하는 방법 : BOW(Bag of Words), Word2Vec

<br>

- 머신러닝 기반의 텍스트 분석 프로세스
  - 텍스트 사전 준비(전처리) 
    - 텍스트를 피처로 만들기 전에 하는 작업들
    - 미리 클렌징, 대/소문자 변경, 특수문자 삭제 등이 필요
    - 단어(Word) 토큰화 작업, 의미 없는 단어(Stop word) 제거 작업
    - 어근 추출(Stemming / Lemmatization) 등의 테스트 정규화
  - 피터 벡터화 / 추출
    - 사전 준비 작업으로 가공된 텍스트에서 피처 추출
    - 벡터 값을 할당함
    - 대표적인 방법으로 BOW와 Word2vec이 있음
  - ML 모델 수립 및 학습 / 예측 / 평가
    - 피처 벡터화된 데이터 세트에 ML 모델을 적용함
    - 학습/예측 및 평가를 수행

<br>

- 파이썬 기반의 NLP, 텍스트 분석 패키지

  - NLTK (Natural Language Toolkit for Python)
    - 파이썬의 가장 대표적인 NLP 패키지
    - 방대한 데이터 세트와 서브 모듈을 가지고 있음
    - 거의 NLP의 모든 영역을 커버함
    - 많은 NLP 패키지가 NLTK의 영향을 받아 만들어짐
    - 수행 속도 측면에서 아쉬운 측면이 있음
    - 실제 대량의 데이터 기반에서는 제대로 활용되지 못함
  - Gensim 
    - 토픽 모델링  분야에서 두각을 나타내는 패키지
    - 토픽 모델링을 쉽게 구현할 수 있는 기능 제공
    - Word2Vec 구현 등의 다양한 신기술도 제공함
    - SpaCy와 함께 가장 많이 사용되는 NLP 패키지
  - SpaCy
    - 뛰어난 수행 성능으로 최근 가장 주목 받음
    - 많은 NLP 애플리케이션에서 SpaCy를 사용하는 사례가 늘어남

  <br>

- 사이킷런은 머신러닝 위주의 라이브러리여서 NLP 패키지에 특화된 라이브러리 없음
- 하지만 텍스트를 일정 수준으로 가공하는 기능은 가지고 있음
- 사이킷런으로도 충분히 첵스트 분석 기능을 수행할 수 있음
- 더 다양한 텍스트 분석이 적용되어야 할 경우 NLTK / Gensim / SpaCy 패키지 사용

<br>

### 텍스트 사전 준비 작업(전처리) : 텍스트 정규화

- 텍스트 정규화란?
  - 텍스트를 머신러닝 알고리즘이나 NLP 애플리케이션에 입력데이터로 사용하기 위함
  - 클렌징, 정제, 토큰화, 어근화 등의 다양한 사전 작업을 수행하는 것
  - 텍스트 분석은 정규화 작업이 매우 중요함

<br>

- 클렌징
  - 분석에 방해가 되는 불필요한 문자, 기호를 사전에 제거하는 작업
  - HTML이나 XML 태그나 특정 기호 등을 사전에 제거

<br>

- 텍스트 토큰화
  - 문장 토큰화(sentence tokenization)
    - 문서에서 문장을 분리함
    - 문장의 마침표(.)나 개행문자(/n)를 기준으로 분리함
    - sent_tokenize()가 각각의 문장으로 구성된 list 객체를 반환함
    - 각 문장이 가지는 시맨틱적인 의미가 중요한 요소일 때 사용
  - 단어 토큰화(Word Tokenization)
    - 문장을 단어로 토큰화 함
    - 공백( ), 콤마(,), 마침표(.), 개행문자, 정규 표현식 등으로 단어를 분리
    - Bag of Word와 같이 단어의 순서가 중요하지 않은 경우 단어 토큰화만 사용

<br>

- 문장을 단어별로 토큰화 할 경우 문맥적인 의미는 무시됨
- 이 문제를 해결하기 위해 도입된 것이 n-gram
- n-gram은 연속된 n개의 단어를 하나의 토큰화 단위로 분리함
- n개 단어 크기 윈도우를 만들어 문장의 처음부터 오른쪽으로 움직이면서 토큰화 수행
- "Agent Smith Knocks the door"를 2-gram(bigram)으로 만들면?
- (Agent, Smith), (Smith, Knocks), (Knocks, the), (the, door) 이런식으로 토큰화 함